@if (!searching()) {
  <div @slideInOut style="display: inline">
    <app-top-app-bar [shop]="shop" />
    <app-header [shop]="shop" (searchClick)="searching.set(true)" />
    <app-category-carousel />
  </div>
} @else {
  <mat-toolbar id="searchbox-toolbar" fxLayout="row">
    <input
      fxFlex
      #searchbox
      type="text"
      placeholder="{{ 'menu.searchPlaceholder' | translate }}"
      [formControl]="searchControl"
    />
    <button mat-icon-button (click)="searching.set(false)">
      <i class="fa-regular fa-circle-xmark fa-sm"></i>
    </button>
  </mat-toolbar>
}

<main fxLayout="column" fxLayoutGap="32" p-md [class.searching]="searching()">
  @for (category of menuService.categories(); track category.id) {
    <app-category-section [category]="category" />
  }
</main>

@if (cart.length()) {
  <mat-toolbar
    @flyInOutFromDown
    fxLayout="column"
    fxLayoutAlign="center"
    id="actionbar"
    class="background-background"
    p-md
  >
    <a mat-flat-button routerLink="/cart" class="large">{{ 'cart.complete' | translate }}</a>
  </mat-toolbar>
}
